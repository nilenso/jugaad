<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/background_light"
    android:fillViewport="true">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="24dp">

        <!-- Header with Logo -->
        <ImageView
            android:id="@+id/imageViewLogoConfig"
            android:layout_width="0dp"
            android:layout_height="32dp"
            android:layout_marginTop="16dp"
            android:layout_marginStart="32dp"
            android:layout_marginEnd="32dp"
            android:contentDescription="Nilenso Logo"
            android:src="@drawable/nilenso_logo"
            android:scaleType="fitCenter"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

        <TextView
            android:id="@+id/textViewConfigTitle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="24dp"
            android:text="Configuration"
            android:textSize="28sp"
            android:textStyle="bold"
            android:textColor="@color/primary_text"
            app:layout_constraintTop_toBottomOf="@id/imageViewLogoConfig"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

        <TextView
            android:id="@+id/textViewConfigSubtitle"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="8dp"
            android:text="Set up your Slack integration and SMS filtering preferences"
            android:textSize="16sp"
            android:textColor="@color/secondary_text"
            android:textAlignment="center"
            app:layout_constraintTop_toBottomOf="@id/textViewConfigTitle"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

        <!-- Configuration Card -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardConfigForm"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="32dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="6dp"
            app:cardBackgroundColor="@color/surface_light"
            app:layout_constraintTop_toBottomOf="@id/textViewConfigSubtitle"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="24dp">

                <!-- Device Name Section -->
                <TextView
                    android:id="@+id/textViewDeviceTitle"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“± Device Name"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="@color/primary_text"
                    android:layout_marginBottom="8dp" />

                <EditText
                    android:id="@+id/editTextDeviceName"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:background="@drawable/edittext_background"
                    android:inputType="text"
                    android:hint="ex. Govind's Phone"
                    android:textSize="14sp"
                    android:textColor="@color/primary_text"
                    android:textColorHint="@color/secondary_text"
                    android:layout_marginBottom="24dp" />

                <!-- Slack Webhook Section -->
                <TextView
                    android:id="@+id/textViewSlackTitle"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸš€ Slack Webhook URL"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="@color/primary_text"
                    android:layout_marginBottom="8dp" />

                <EditText
                    android:id="@+id/editTextSlackWebhookUrl"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:background="@drawable/edittext_background"
                    android:inputType="textUri"
                    android:hint="https://hooks.slack.com/services/..."
                    android:textSize="14sp"
                    android:textColor="@color/primary_text"
                    android:textColorHint="@color/secondary_text"
                    android:layout_marginBottom="24dp" />

                <!-- SMS Filter Section -->
                <TextView
                    android:id="@+id/textViewSmsTitle"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“± SMS Match String"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="@color/primary_text"
                    android:layout_marginBottom="8dp" />

                <EditText
                    android:id="@+id/editTextSmsMatchString"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:background="@drawable/edittext_background"
                    android:inputType="text"
                    android:hint="Enter text to match in SMS (e.g., OTP)"
                    android:textSize="14sp"
                    android:textColor="@color/primary_text"
                    android:textColorHint="@color/secondary_text"
                    android:layout_marginBottom="24dp" />

                <!-- Enable/Disable Section -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:background="@drawable/rounded_corner_background"
                    android:padding="16dp"
                    android:layout_marginBottom="20dp">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Enable Jugaad"
                            android:textSize="16sp"
                            android:textStyle="bold"
                            android:textColor="@color/primary_text" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Activate SMS to Slack forwarding"
                            android:textSize="12sp"
                            android:textColor="@color/secondary_text"
                            android:layout_marginTop="4dp" />

                    </LinearLayout>

                    <CheckBox
                        android:id="@+id/checkBoxEnabled"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical"
                        android:buttonTint="@color/nilenso_pink" />

                </LinearLayout>

                <!-- Line Separator -->
                <View
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    android:background="@color/secondary_text"
                    android:alpha="0.2"
                    android:layout_marginTop="8dp"
                    android:layout_marginBottom="24dp" />

                <!-- Monitoring Section -->
                <TextView
                    android:id="@+id/textViewMonitoringTitle"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“Š Status Monitoring Webhook"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="@color/primary_text"
                    android:layout_marginBottom="8dp" />

                <EditText
                    android:id="@+id/editTextMonitoringWebhookUrl"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:background="@drawable/edittext_background"
                    android:inputType="textUri"
                    android:hint="https://hooks.slack.com/services/... (Optional)"
                    android:textSize="14sp"
                    android:textColor="@color/primary_text"
                    android:textColorHint="@color/secondary_text"
                    android:layout_marginBottom="24dp" />

                <!-- Save Button -->
                <Button
                    android:id="@+id/buttonSave"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:background="@drawable/button_background"
                    android:text="Save Configuration"
                    android:textColor="@color/white"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:elevation="4dp"
                    android:layout_marginTop="8dp" />

            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!-- Test Controls Card -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardTestControls"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="2dp"
            app:cardBackgroundColor="@color/surface_light"
            app:layout_constraintTop_toBottomOf="@id/cardConfigForm"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ§ª Testing"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="@color/primary_text"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Send a test message to slack webhooks."
                    android:textSize="14sp"
                    android:textColor="@color/secondary_text"
                    android:layout_marginBottom="16dp" />

                <!-- Test Status Update Button -->
                <Button
                    android:id="@+id/buttonTestStatusUpdate"
                    android:layout_width="match_parent"
                    android:layout_height="48dp"
                    android:background="@drawable/button_background"
                    android:text="ðŸ§ª Test Status Update"
                    android:textColor="@color/white"
                    android:textSize="14sp"
                    android:textStyle="bold" />

            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!-- Info Card -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardInfo"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="2dp"
            app:cardBackgroundColor="@color/surface_light"
            app:layout_constraintTop_toBottomOf="@id/cardTestControls"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintBottom_toBottomOf="parent">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="â„¹ï¸ How it works"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="@color/primary_text"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Jugaad monitors incoming SMS messages and forwards matching messages to your configured Slack channel.\n\nSMS messages containing the match string will be forwarded to Slack. For example, if you set it to 'OTP', only messages containing the word 'OTP' will be sent."
                    android:textSize="14sp"
                    android:textColor="@color/secondary_text"
                    android:lineSpacingExtra="2dp" />

            </LinearLayout>

        </androidx.cardview.widget.CardView>

    </androidx.constraintlayout.widget.ConstraintLayout>

</ScrollView>
